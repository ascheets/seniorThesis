%Carthage Physics Senior Thesis
%Author: Aaron Scheets

\documentclass[twocolumn,12pth]{article}
\usepackage[hmargin={1.25in,0.75in},bmargin=1in,tmargin=1in]{geometry} 
\usepackage{setspace}
\usepackage{url}
\usepackage{syntonly}
\usepackage[ampersand]{easylist}

\usepackage{natbib}

\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{gensymb}
\usepackage{amssymb}
\usepackage{float}
\providecommand{\e}[1]{\ensuremath{\times 10^{#1}}}

\usepackage{graphicx}
\usepackage{caption}


\title{Writing A Fluid Solver From First Principles (Introduction/Mathematical Model)}

\author{Aaron Scheets}

\onecolumn

\begin{document}

\maketitle

\section{Introduction}

This thesis is an investigation of the components of a ``fluid solver''.
Some of the most, exciting, beautiful, and complicated processes in nature are problems of fluid mechanics.
There are extraordinary fluid phenomena to model from the scale of the plume of steam coming from your cup of coffee in the morning (and even smaller), to the dynamics of ocean currents (and even larger).
Words can hardly do these flows justice, which is why visualization of flows is so important in fluid dynamics.
The only problem is, the math behind these exciting flows usually can't be solved analytically. 
We can make simplifications on systems to solve them analytically, or we can setup the problem in such a way that a computer can give us an approximate answer by making a very large number of calcuations.
The goal of my thesis research was to investigate the process of modeling a dynamic fluid mathematically and then using computational methods to visualize that fluid.
Visualizing a fluid means solving for the velocity, pressure or temperature of that fluid.
The dynamic fluid I have modeled is an \textit{incompressible} fluid, like water, flowing in a pipe. 
I chose the case of incompressible flow in a pipe because, making certain simplifications, incompressible flow in a pipe can be solved for analytically. 

\subsection{Fluid Modeling Process}

For the sake of consistency and organization in the midst of the somewhat intimidating task of writing a fluid solver, it is helpful to establish an outline of our approach to the problem.
So, imagine someone places a clear pipe through which water is flowing in front of you, and asks you: What is the velocity of the water in the pipe?
The approach you might take to answering this question depends on the accuracy demanded by the person asking for the velocity.
Determining the velocity in the pipe will involve some combination of mathematical analysis and experimental verification.
It would make sense, if one were to derive a mathematical expression for the fluid velocity in the pipe, to construct an experiment which could verify the correctness of the model.
When replication of the fluid process cannot be easily done in the lab, or when the measurement of the fluid properties would interfere with the flow, computational visualizations take the place of physical experiment.
The following are a basic overview of the computational modeling process:
\vspace{2mm}

\begin{easylist}[enumerate]
& Mathematical model
& Discretization method
& Analyze validitiy of discretization method
& Solve system using computer
& Visualize and anaylze results
\end{easylist}

\vspace{2mm}
The starting point of a computational fluid dynamics study is the mathematical model.
Once one has come up with a mathematical model for the fluid in question, a discretization scheme is applied to the model.
Discretization schemes express the continuous equations of the model in a form that can be solved by a computer.
After a discretization scheme has been chosen, one must analyze the validity of the scheme in the context of the fluid in question: does the scheme violate any of the physics governing the fluid?
After the scheme has been validated, hopefully the scheme can be solved by a computer to produce a data set for the velocity and pressure of the fluid.
The velocity vector field and pressure scalar field must then be visualized using graphical software for further analysis.
The rest of this document will present what each of these components entails and how the component was applied to incompressible, unsteady, fluid flow in a pipe.

\section{Mathematical Model}

\subsection{What is a fluid?}

The first question one might have is, what is a fluid?
A fluid is a substance without resistance to \textit{shear} forces.
Imagine a cube of some particular substance, and consider the top and bottom face of that cube in particular.
Apply a force tangential to the top face and a separate force tangential to the bottom face and the result is shear.
Now, picture two cubes resting on a table; one a solid cube of ice and the other a cube of water.
Were you to give each cube a nudge near the top face, the ice cube would retain its shape and maybe move along the table.
The result of nudging the fluid cube would be continous \textit{deformation}, the cube would lose its shape as the water spreads over the table.
The deformation the fluid undergoes is due to the fluid's lack of resistance to shear, which is a result of the molecular properties of the fluid.
The attraction between molecules within the solid is greater than those found in the fluid.
Gases are also fluids as they show no resistance to sideways forces.

\subsection{Fluid Adjectives}

Previously I mentioned the extensive nature of fluid mechanics and that I modeled \textit{incompressible} fluid flow.
An incompressible fluid, like water, is a fluid whose density is constant, in contrast to a compressible fluid, like air, whose density is not constant.
These adjectives describe physical characteristics of the differing fluids.
Specifying a fluid using these adjectives gives us a sense of what equations should be used to model the fluid, and what assumptions can be made to simplify those equations.
Figure ? depicts the divisions in physical characteristics made when considering a fluid.
Going right through this chart, I can classify the fluid subject of my model: liquid, incompressible, unsteady, viscous, rotational, and two-dimensional!
These characteristics dictate which equations I can and should use to model the fluid.
Since I am modeling an incompressible fluid, I will be using the \textit{Navier-Stokes Equations}, if the fluid were a compressible gas, I would instead use Euler's equations.

\subsubsection{Newton's Second Law Applied to a Control Volume}

We can obtain a general notion for what the general equations of fluid motion should consist of by applying Newton's Second Law to a control volume of fluid.
Newton's second law states that the mass times acceleration of a system is equal to the net force applied to that system:

\begin{equation*}
m\vec{a} = \sum{F_{system}}
\end{equation*}

Another way of expressing Newton's Second is equating the rate of change of momentum with respect to time of the system to the sum of the forces on that system:

\begin{equation}
\frac{d{\vec{p}}}{dt} = \sum F_{system}
\end{equation}

These expressions are Newton's Second Law as applied to a \textit{system}.
In the case of fluids a system is defined as a specific group of fluid particles: ``the volume, pressure, and temperature of the system can change but the system, that is, the identity of mass, does not change''. \cite{Granger1995}
This is also the case with rigid bodies like point masses, but in that case it is not usually something worth distinguishing.
In contrast to a system, is the \textit{control volume}, which is a definite volume of space, established by a set of surfaces, through which fluid mass can flow.
We can see why the difference between a system and a control volume has to be made clear if we remember that we are trying to figure out the velocity of the fluid within some larger volume, in this case the pipe.
Were we to apply Newton's Second Law as is, we would have to keep track of a set of masses as they pass through the pipe.
One can imagine how hard it woud be to mathematically model the path of one particular chunk of flowing water.
It would be much easier to divide our pipe into a set of definite volumes and apply the control volume approach at each of these volumes by observing the mass passing through the volume surfaces.
That being said, we have to come up with a form of Newton's Second Law that applies to a control volume rather than a system.

\subsubsection{Reynolds' Transport Theorem}

In the last section, we were interested in finding the derivative of momentum with respect to time for use in Newton's Second Law.
To find the derivative of momentum, we first want to find an equation for the derivative of any property of the fluid.
Momentum is a property of our fluid, and if we can find a generic fluid derivative, it can be applied to momentum just as well.
In order to find this fluid derivative, we must think about how properties change within a fluid.
Remember, we are interested in applying Newton's Second Law to a control volume.
For each property we are considering, and the derivative of that property, there will be a corresponding control volume.

Consider a pipe with water flowing through it, and imagine dumping a bucket of microbeads into the water at the front of the pipe.
We first shall consider the total number of beads in the pipe and how this value changes with time.
When considering the total number of beads in the pipe, our control volume of interest is the pipe itself.
To find the total number of beads in the pipe at a given moment, we integrate the density of beads throughout the pipe, $\rho$ over the entire volume of the pipe, $V$:

\begin{equation}
\int_{V} \rho dV
\end{equation}

Let's say we have run out of beads to pour into the pipe.
There is now a distinct number of beads in the pipe, and the only way that number can change is if the beads exit the pipe through some surface.
At the end of our pipe there is an outlet through which the water and beads are flowing.
This outlet can be described by a particular surface area vector $\mathbf{S}$, which consists of a particular area magnitude $S$ and a vector normal to the surface $\mathbf{n}$.
We can describe the number of beads exiting the pipe through this surface as a flux.
The flux takes into account the velocity of the beads in the direction of the surface, $\mathbf{n}$, and the bead density of the water passing through the surface:

\begin{equation}
\int_S \rho \mathbf{v} \cdot \mathbf{n} dS
\end{equation}

Since the only way the beads can leave the pipe is through this outlet, we can safely equate the rate of change of the total number of beads in the pipe to the flux of beads through the outlet $S$:

\begin{equation}
\int_S \rho \mathbf{v} \cdot \mathbf{n} dS = - \frac{d}{dt} \int_{V} \rho dV
\label{eq:rtt}
\end{equation}

Notice the flux of beads through the surface is equal to negative the time rate of change of beads in the pipe because beads are exiting the pipe at this surface.
One should find the unit of the flux through $S$ is beads per second.
This is equivalent to what we would expect for the derivative of the total number of beads in the pipe.
The expression we just found is the integral form of what is known as the \textit{Reynolds' Transport Theorem} in the context of fluid mechanics.
Given some particular control volume, and the density of some property within that volume, $\rho$, the Reynolds' Transport Theorem expresses the time rate of change of $\rho$.

Consider Gauss' Divergence theorem:

\begin{equation}
\int_S \mathbf{F} \cdot d\mathbf{a} = \int_V div(\mathbf{F}) dV
\end{equation}

\begin{equation}
\int_S \rho \mathbf{v} \cdot \mathbf{n} dS = \int_V div(\mathbf{\rho{v}}) dV
\end{equation}

Gauss's theorem relates the flux of a particular vector field over a surface enclosing a volume to the divergence of that vector quantity within the volume.
Applying Gauss's theorem to the transport theorem (\ref{eq:rtt}) we are left with:

\begin{equation}
\int_V div(\mathbf{\rho{v}}) dV = - \frac{d}{dt} \int_{V} \rho dV
\label{eq:rtt2}
\end{equation}

This expression involves two integrals, both over some volume $V$.
As long as $\rho$ is continuous over $V$, the derivative of the integral will be equal to the integral of the derivative (move the derivative inside the integral).
As long as our volume $V$ is much larger than the scale of individual fluid particles, we can assume our expression (\ref{eq:rtt2}) holds for any volume (drop the integral over $V$).
Thus, we are left with the differential form of the Reynolds Transport Theorem:

\begin{equation}
div(\rho \mathbf{v}) = -\frac{\partial{\rho}}{\partial{t}}
\end{equation}

\begin{equation*}
\frac{\partial{\rho}}{\partial{t}} + div(\rho \mathbf{v}) = 0
\end{equation*}

This is the expression for the derivative of a fluid property, given that property is in the form of a density, $\rho$.

\subsubsection{Conservation of Mass, Momentum}

In the previous section, we found the derivative of the density of a property in a fluid.
We were originally interested in finding the derivative of momentum in a fluid for use with Newton's Second Law.
The next step would then be to express the momentum of our fluid as a density.
The density of a particular property is the value of that property per some volume.
It is helpful to first think of the density of mass within the fluid.
Mass per volume is a concentration we are familiar with, and it is a density we can measure.
Since we can measure the mass per volume of a liquid, we will designate $\rho$ for this particular type of density:

\begin{equation}
\rho = \frac{\mathrm{mass}}{\mathrm{volume}}
\end{equation}

It is important to remember that in the previous section when we derived the fluid derivative, $\rho$ represented a generic density: the quantity of any property per volume.
Now $\rho$ is specifically the mass density: the quantity of mass per volume.
Momentum is expressed as the product of mass and velocity, $mv$.
To express the density of momentum within our fluid, we divide $mv$ by volume.


\subsubsection{Fluid Forces}

\subsubsection{Navier-Stokes Equations}



\bibliographystyle{plainnat}
\nocite{*}
\bibliography{library.bib}

\end{document}

